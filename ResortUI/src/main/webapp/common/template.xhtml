<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ps="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <title><ui:insert name="title"></ui:insert></title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>       

        <h:outputStylesheet library="css" name="maxcdn.bootstrapcdn.com_bootstrap_3.3.1_css_bootstrap-theme.min.css"/>
        <h:outputStylesheet library="css" name="maxcdn.bootstrapcdn.com_bootstrap_3.3.1_css_bootstrap.min.css"/>

        <h:outputStylesheet library="css" name="styles.css"/> 
        <h:outputStylesheet library="css" name="bjqs.css"/>

    </h:head>
    <h:body>
        
        <img src="https://pbs.twimg.com/profile_images/82524823/Dilbert_400x400.jpg" id="b" style="display: none; left:-500px; top:320px; position: absolute"/>
        <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <script src="//cdn.rawgit.com/namuol/cheet.js/master/cheet.min.js"
        type="text/javascript"></script>
        <script type="text/javascript">
            cheet('↑ ↑ ↓ ↓ ← → ← → b a', function () {
                $(document).ready(function () {
                    $("#b").css("display", "block");
                    $("#b").animate({left: '+=450'}, 2000);
                });
                ;
            });
            cheet('v a n d e r m e i r e n', function () {
                $(document).ready(function () {
                    window.location = "http://blog.associatie.kuleuven.be/chrisvandermeiren/";
                });
                ;
            });
            $(function () {
                var availableTags = [
                    "Bungalow",
                    "Contact",
                    "Event",
                    "Eventbedrijf",
                    "Eventtype",
                    "Klant",
                    "Locatie",
                    "Overzicht",
                    "Park",
                    "Reservatie",
                    "Useroverzicht",
                    "Profiel",
                    "Personeel",
                    "Bungalowinfo",
                    "Parkinfo"
                ];
                $("#j_idt12\\:search").autocomplete({
                    source: availableTags
                });
                $("#j_idt12\\:search").on("autocompleteselect", function (event, ui) {
                    var link;
                    switch (ui.item.value.toLowerCase()) {
                        case "eventbedrijf":
                            link = "eventcompany";
                            break;
                        case "klant":
                            link = "customer";
                            break;
                        case "reservatie":
                            link = "reservation";
                            break;
                        case "locatie":
                            link = "location";
                            break;
                        case "overzicht":
                            link = "overview";
                            break;
                        case "profiel":
                            link = "profile";
                            break;
                        case "personeel":
                            link = "staff";
                            break;
                        case "useroverzicht":
                            link = "useroverview";
                            break;
                        default:
                            link = ui.item.value.toLowerCase();
                    }
                    window.location = link + ".xhtml";
                });
            });

            // Facebookplugin
            window.fbAsyncInit = function () {
                FB.init({
                    appId: '860881423950283',
                    xfbml: true,
                    version: 'v2.3'
                });
            };

            (function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {
                    return;
                }
                js = d.createElement(s);
                js.id = id;
                js.src = "//connect.facebook.net/en_US/sdk.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));

            // Vertaling kalender naar nederlands
            PrimeFaces.locales['nl'] = {
                closeText: 'Sluiten',
                prevText: 'Terug',
                nextText: 'Volgende',
                currentText: 'Huidig',
                monthNames: ['Januari', 'Februari', 'Maart', 'April', 'Mei', 'Juni', 'Juli', 'Augustus', 'September', 'Oktober', 'November', 'December'],
                monthNamesShort: ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'],
                dayNames: ['Zondag', 'Maandag', 'Dinsdag', 'Woensdag', 'Donderdag', 'Vrijdag', 'Zaterdag'],
                dayNamesShort: ['zo', 'ma', 'di', 'woe', 'do', 'vr', 'za'],
                dayNamesMin: ['Zo', 'Ma', 'Di', 'Wo ', 'Do', 'Vr ', 'Za'],
                weekHeader: 'Week',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Alleen tijd',
                timeText: 'Tijd',
                hourText: 'Uur',
                minuteText: 'Minuut',
                secondText: 'Seconde',
                ampm: false,
                month: 'Maand',
                week: 'week',
                day: 'Dag',
                allDayText: 'Alle Dagen'
            };
        </script>
        <nav class="navbar  navbar-fixed-top" role="navigation">
            <div class="container">
                <h:form>  
                    <p:growl id="messages"/>
                    <p:menubar>
                        <p:menuitem value="" url="index.xhtml" icon="ui-icon-home"/>
                        <p:submenu label="Info">
                            <p:menuitem value="Bungalowinfo" url="bungalowinfo.xhtml"/>
                            <p:menuitem value="Parkinfo" url="parkinfo.xhtml"/>
                        </p:submenu>
                        <p:submenu label="Bungalows" rendered="${sessionDto.userDto.level &gt;= 3}">
                            <p:menuitem value="Park" url="park.xhtml"  />
                            <p:menuitem value="Bungalow" url="bungalow.xhtml" />
                            <p:menuitem value="Klant" url="customer.xhtml" />
                            <p:menuitem value="Reservatie" url="reservation.xhtml" />
                        </p:submenu>
                        <p:submenu label="Events" rendered="${sessionDto.userDto.level &gt;= 3}">
                            <p:menuitem value="Event" url="event.xhtml" />
                            <p:menuitem value="Eventbedrijf" url="eventcompany.xhtml" />
                            <p:menuitem value="Eventtype" url="eventtype.xhtml" />
                            <p:menuitem value="Locatie" url="location.xhtml"/>
                            <p:menuitem value="Personeel" url="staff.xhtml"/>
                        </p:submenu>
                        <p:menuitem value="Overzicht" url="overview.xhtml" rendered="${sessionDto.userDto.level &gt;= 2}"/>
                        <p:menuitem value="Profiel" url="profile.xhtml" rendered="${sessionDto.userDto.level &gt;= 2}"/>
                        <p:menuitem value="Gebruikersoverzicht" url="useroverview.xhtml" rendered="${sessionDto.userDto.level &gt;= 4}"/>
                        <p:menuitem value="Contact" url="contact.xhtml" />
                        <f:facet name="options">
                            <p:inputText id="search" style="margin-right:10px" placeholder=" Zoeken"/>
                            <p:commandButton rendered="${sessionDto.userDto.loggedIn}" value="Uitloggen" action="${login.logOut()}" icon="ui-icon-extlink" />
                            <p:commandButton rendered="${!sessionDto.userDto.loggedIn}" value="Inloggen" action="${login.goToLogin()}" icon="ui-icon-extlink" />
                        </f:facet>
                    </p:menubar>
                </h:form>
            </div>
        </nav> 
        
        <div class="jumbotron">
            <div class="container">
                <ui:insert name="navbar"></ui:insert>
            </div>
        </div>

        <div class="container">
            <ui:insert name="content"></ui:insert>
        </div>
        
        <div class="push"></div>
        
        <footer>
            <ui:fragment rendered="${!sessionDto.userDto.loggedIn}">
                <ul id="footerbuttons">
                    <li>
                        <h3>Nieuwe gebruiker?</h3>
                        <p>Klik hieronder om je te registreren</p>
                        <a class="button" href="registration.xhtml">Registreer</a>
                    </li>
                    <li>
                        <h3>Heb je al een account?</h3>
                        <p>Klik hieronder om je in te loggen</p>
                        <a class="button" href="login.xhtml">Inloggen</a>
                    </li>
                </ul>
            </ui:fragment>
            <ui:fragment rendered="${sessionDto.userDto.loggedIn}">
                <h3>Welkom ${login.sessionDto.userDto.username}</h3>
            </ui:fragment>
            <br style="font-size:2px"/>
            <ul>
                <li><p class="lightColorFooter">© Party Resort - 2015</p></li>
            </ul>         
        </footer>

    </h:body>

</html>
